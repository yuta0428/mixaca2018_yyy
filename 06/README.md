# 画像の配信(S3/CloudFront)

インタネットストレージサービスのS3の概要と使い方についてと、配信を高速化させるCDNであるCloudFrontの導入について書かれています。

## S3って何
- S3 : _Simple Storage Service_
- サーバ上のストレージに画像などのコンテンツを配置するためのサービス
    - コンテンツを直接配信するフロントエンド
    - 大量ファイルを配置するサーバーのバックエンド
    - などに役に立つ
- また、スケーラブルであるため容量などを気にせず使える

|用語|説明|
|:-|:-|
|オブジェクト|格納されるデータ|
|キー|オブジェクトの名前|
|バケット|オブジェクトを分類して格納しておく器|

#### 高い耐久性(99.999999999%の耐久性)
- ストレージの種類によるが、どのストレージも高い耐久性がある
    - 1つのリージョンにつき、オブジェクトを3ヶ所以上のデータセンターに複製を持つよう設計されているため！
- （そのため、オブジェクト保存時のレスポンスのレイテンシは高い)

#### ライフサイクル管理
- 保存したコンテンツに対して、保管から指定時間が経過したものを削除する機能がある
- 簡単にバックアップファイルやログファイルのアーカイブ場所が作れる！

## CloudFrontって何
- AWSが提供するCDN(_Contents Delivery Network_)のサービス
- オリジンサーバー上にあるコンテンツを世界中のエッジロケーションにコピーすることで、高速にコンテンツを配信することができる

### CloudFrontとS3の連携
- CloudFront側でディストリビューションと呼ばれるルールを作成する際に配信するオリジンサーバーのドメイン名にS3のバケットを指定してあげればよい

## S3のコンテンツ配信以外での利用
- ログファイルの保存
- ローテートされたログのアーカイブ
    - コンピュータの状態やソフトウェアの使用状況、データベースの利用状況など
- Fluentdの解析ツールによるログのアップロード

## 知見
- S3は使ったことがあったが、いじったことはなかったので、セキュリティ設定やCloudFrontとの連携など勉強になることが多かった
- マネジメントコンソール画面が新しくなっており、本の内容と噛み合わないところが多々あったのでS3については別の本などで補完したいと思った。