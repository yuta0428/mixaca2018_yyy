# ノード--分散システムの要

* ノード : Elang VM

* Elang VM
    * Beamという小さなOS(のようなもの)
    * 自身のイベントプロセススケジューリング、メモリ、ネームサービス、プロセス間通信

* プロセス on ノード？
    * _別ノードのプロセスにメッセージ送信_ という記述あった

* ノードに名前付けれる
    * `iex --name wibble@light-boy.local` 完全修飾名
    * `iex --sname wobble` 短い名前

* `Node.list`で接続ノード取得
* `Node.connect ノード名`でノードに接続

* プロセスを指定したノードで実行
    * `Node.spawn(ノード名, func)`
    * PID XXX.XX.X  ノード番号.プロセスIDの下位ビット.プロセスIDの上位ビット
    * 1つ目のノードでプロセスをspawnさせ、生成された2つ目のノードで関数が走り、出力は1つ目のノードに現れる。（_感動的！_）

## クッキー
* ノードは他のノードに接続しようとする前に、リモードノードに接続権限があるかチェックする
    * リモートノードのクッキーと自分のクッキーを比較する
* `--cookie`オプションで渡せる
* `iex --sname one --cookie クッキー`
    * クッキーを指定しない際はホームディレクトリの`.elang.cookie`を参照する

## プロセスの名前付け
* `:global.register_name(名前, pid)`でプロセスのPIDを名前を付けて登録できる
* `:global.whereis_name(名前)`で名前でプロセスを探せる
* アプリケーション開始時にプロセスの名前を登録するのが一般的

## I/O
* Elang VMにおける入出力はI/Oサーバを用いて行われる
* ElixirやElang I/Oのライブラリを使って低レベルメッセージインターフェースを扱う
    * `IO.puts(pid, msg)`では第1引数にプロセスを指定してメッセージ送れる

## 練習問題
* 練習問題1
* 練習問題2 
* 練習問題3
* 練習問題4 